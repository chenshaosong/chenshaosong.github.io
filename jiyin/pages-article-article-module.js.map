{"version":3,"sources":["webpack:///./src/app/pages/article/article-manger/article-manger.component.html","webpack:///./src/app/pages/article/article-manger/article-manger.component.scss","webpack:///./src/app/pages/article/article-manger/article-manger.component.ts","webpack:///./src/app/pages/article/article-routing.module.ts","webpack:///./src/app/pages/article/article.module.ts","webpack:///./src/app/pages/article/edit-article/edit-article.component.html","webpack:///./src/app/pages/article/edit-article/edit-article.component.scss","webpack:///./src/app/pages/article/edit-article/edit-article.component.ts"],"names":[],"mappings":"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","file":"pages-article-article-module.js","sourcesContent":["module.exports = \"<nz-table\\r\\n  #editRowTable\\r\\n  nzBordered=\\\"false\\\"\\r\\n  [nzData]=\\\"dataSet\\\"\\r\\n  nzPageSize=\\\"10\\\"\\r\\n  nzShowSizeChanger = 'true'\\r\\n>\\r\\n  <thead>\\r\\n  <tr>\\r\\n    <th>No</th>\\r\\n    <th>文章名</th>\\r\\n    <th>操作</th>\\r\\n  </tr>\\r\\n  </thead>\\r\\n  <tbody>\\r\\n  <tr *ngFor=\\\"let data of editRowTable.data\\\">\\r\\n    <td>{{data.id}}</td>\\r\\n    <td>\\r\\n      <div [ngSwitch]=\\\"data.code\\\">\\r\\n        <p *ngSwitchCase=\\\"'register'\\\">注册协议</p>\\r\\n        <p *ngSwitchCase=\\\"'integral'\\\">积分说明</p>\\r\\n        <p *ngSwitchCase=\\\"'user'\\\">用户须知</p>\\r\\n        <p *ngSwitchCase=\\\"'about-us'\\\">关于我们</p>\\r\\n      </div>\\r\\n    </td>\\r\\n    <td>\\r\\n      <button nz-button nzType=\\\"default\\\" (click)=\\\"goPager({url:'/article/edit-article',data:data})\\\" >编辑</button>\\r\\n    </td>\\r\\n\\r\\n  </tr>\\r\\n  </tbody>\\r\\n</nz-table>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2FydGljbGUvYXJ0aWNsZS1tYW5nZXIvYXJ0aWNsZS1tYW5nZXIuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport {ResetHttpService} from '../../../share/util/reset-http.service';\r\nimport {Router} from '@angular/router';\r\nimport {UrlServeService} from '../../../share/util/url-serve.service';\r\nimport {NzMessageService} from 'ng-zorro-antd';\r\nimport {UtilServeService} from '../../../share/util/util-serve.service';\r\n\r\n@Component({\r\n  selector: 'app-article-manger',\r\n  templateUrl: './article-manger.component.html',\r\n  styleUrls: ['./article-manger.component.scss']\r\n})\r\nexport class ArticleMangerComponent implements OnInit {\r\n  dataSet:any;\r\n  constructor(private http: ResetHttpService,private router:Router,private url:UrlServeService,private msg:NzMessageService,private util:UtilServeService) {\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.getData();\r\n  }\r\n\r\n  //获取数据\r\n  getData(pnum = '',rnum = ''){\r\n      this.http.get(this.url.articleList,{\r\n        page:pnum,\r\n        rows:rnum\r\n      },data=>{\r\n        // console.log(data);\r\n        if(data.code = '001000'){\r\n          this.dataSet = data.response;\r\n        }else{\r\n          this.msg.error(data.message);\r\n        }\r\n      })\r\n  }\r\n  //跳转页面\r\n  goPager(option){\r\n    this.util.goPage(option);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport {ArticleMangerComponent} from './article-manger/article-manger.component';\r\nimport {EditArticleComponent} from './edit-article/edit-article.component';\r\n\r\nconst routes: Routes = [\r\n  {path:'',component:ArticleMangerComponent,data:{breadcrumb: '文章管理'}},\r\n  {path:'edit-article',component:EditArticleComponent,data:{breadcrumb: '编辑文章'}}\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class ArticleRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { ArticleRoutingModule } from './article-routing.module';\r\nimport { ArticleMangerComponent } from './article-manger/article-manger.component';\r\nimport { EditArticleComponent } from './edit-article/edit-article.component';\r\nimport {ShareModule} from '../../share/share.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    ArticleRoutingModule,\r\n    ShareModule\r\n  ],\r\n  declarations: [ArticleMangerComponent, EditArticleComponent]\r\n})\r\nexport class ArticleModule { }\r\n","module.exports = \"<form nz-form [formGroup]=\\\"validateForm\\\" style=\\\"max-width: 1200px;padding-top: 40px;\\\">\\r\\n  <nz-form-item>\\r\\n    <nz-form-label [nzSpan]=\\\"7\\\">文章名</nz-form-label>\\r\\n    <nz-form-control [nzSpan]=\\\"12\\\">\\r\\n        <div [ngSwitch]=\\\"allData.code\\\">\\r\\n          <p *ngSwitchCase=\\\"'register'\\\">注册协议</p>\\r\\n          <p *ngSwitchCase=\\\"'integral'\\\">积分说明</p>\\r\\n          <p *ngSwitchCase=\\\"'user'\\\">用户须知</p>\\r\\n          <p *ngSwitchCase=\\\"'about-us'\\\">关于我们</p>\\r\\n        </div>\\r\\n    </nz-form-control>\\r\\n  </nz-form-item>\\r\\n  <nz-form-item>\\r\\n    <nz-form-label [nzSpan]=\\\"7\\\" nzRequired>文章内容</nz-form-label>\\r\\n    <nz-form-control [nzSpan]=\\\"14\\\">\\r\\n      <div id=\\\"edit\\\">\\r\\n\\r\\n      </div>\\r\\n      <p style=\\\"color:red\\\" *ngIf=\\\"p_life\\\">请填写内容</p>\\r\\n    </nz-form-control>\\r\\n  </nz-form-item>\\r\\n  <nz-form-item>\\r\\n    <nz-form-control [nzOffset]=\\\"7\\\" [nzSpan]=\\\"12\\\">\\r\\n      <button nz-button nzType=\\\"primary\\\" (click)=\\\"submitForm($event,validateForm.value)\\\">保存</button>\\r\\n      <button nz-button (click)=\\\"cancleForm($event)\\\">取消</button>\\r\\n    </nz-form-control>\\r\\n  </nz-form-item>\\r\\n</form>\\r\\n\"","module.exports = \":host ::ng-deep .w-e-toolbar {\\n  flex-wrap: wrap; }\\n\\n:host ::ng-deep p {\\n  margin-bottom: 0; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvYXJ0aWNsZS9lZGl0LWFydGljbGUvSDpcXG5ld1xcanNfcGx1Z2luXFxqaXlpbi9zcmNcXGFwcFxccGFnZXNcXGFydGljbGVcXGVkaXQtYXJ0aWNsZVxcZWRpdC1hcnRpY2xlLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBR00sZ0JBQWUsRUFDaEI7O0FBSkw7RUFNTSxpQkFBZ0IsRUFDakIiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9hcnRpY2xlL2VkaXQtYXJ0aWNsZS9lZGl0LWFydGljbGUuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdHtcclxuICA6Om5nLWRlZXB7XHJcbiAgICAudy1lLXRvb2xiYXJ7XHJcbiAgICAgIGZsZXgtd3JhcDogd3JhcDtcclxuICAgIH1cclxuICAgIHB7XHJcbiAgICAgIG1hcmdpbi1ib3R0b206IDA7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiJdfQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport {FormBuilder, FormControl, FormGroup} from '@angular/forms';\r\nimport {ResetHttpService} from '../../../share/util/reset-http.service';\r\nimport {UtilServeService} from '../../../share/util/util-serve.service';\r\nimport {ActivatedRoute} from '@angular/router';\r\nimport {UrlServeService} from '../../../share/util/url-serve.service';\r\nimport {NzMessageService} from 'ng-zorro-antd';\r\ndeclare var require:any;\r\nvar E = require('wangeditor');\r\n@Component({\r\n  selector: 'app-edit-article',\r\n  templateUrl: './edit-article.component.html',\r\n  styleUrls: ['./edit-article.component.scss']\r\n})\r\nexport class EditArticleComponent implements OnInit {\r\n  validateForm: FormGroup;\r\n  patt = /\\w{1,100}/;\r\n  editor:any;\r\n  p_life = false;\r\n  allData;\r\n  constructor(private msg:NzMessageService,private http: ResetHttpService,private fb: FormBuilder,private utilServe:UtilServeService,private route :ActivatedRoute,private url:UrlServeService) {\r\n    this.validateForm = this.fb.group({\r\n\r\n    });\r\n    route.queryParams.subscribe(res=>{\r\n      this.allData = JSON.parse(res.data);\r\n    })\r\n  }\r\n\r\n  ngOnInit() {\r\n//创建富文本\r\n    this.editor = new E('#edit');\r\n    this.editor.create();\r\n    this.editor.txt.html(this.allData.content);\r\n  }\r\n//提交\r\n  submitForm = ($event, value) => {\r\n    var that = this;\r\n    $event.preventDefault();\r\n    // for (const key in this.validateForm.controls) {\r\n    //   this.validateForm.controls[ key ].markAsDirty();\r\n    //   this.validateForm.controls[ key ].updateValueAndValidity();\r\n    // }\r\n    // if(!this.validateForm.valid) {\r\n    //\r\n    // }\r\n    //获取html\r\n    var content = this.editor.txt.html();\r\n    console.log(content);\r\n    if(content == '<p><br></p>') {\r\n      this.p_life = true;\r\n      return;\r\n    }\r\n    this.p_life = false;\r\n    this.http.get(this.url.updateArticle,{\r\n      id:this.allData.id,\r\n      name:this.allData.code,\r\n      content:content,\r\n    },data=>{\r\n      // console.log(data);\r\n      if(data.code == '001000'){\r\n        this.msg.success('修改完成！');\r\n        history.back();\r\n      }else{\r\n        this.msg.error(data.message);\r\n      }\r\n    })\r\n  };\r\n  //取消\r\n  cancleForm(e: MouseEvent): void {\r\n    history.back();\r\n  }\r\n  //验证用户名\r\n  checkName = (control:FormControl): {[ s: string ]: boolean} =>{\r\n    if(!control.value){\r\n      return {required:true}\r\n    }else if(!this.patt.test(control.value)){\r\n      return { error: true };\r\n    }\r\n  }\r\n  //确认\r\n\r\n\r\n}\r\n"],"sourceRoot":""}