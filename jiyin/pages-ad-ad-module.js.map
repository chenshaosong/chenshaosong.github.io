{"version":3,"sources":["webpack:///./src/app/pages/ad/ad-manger/ad-manger.component.html","webpack:///./src/app/pages/ad/ad-manger/ad-manger.component.scss","webpack:///./src/app/pages/ad/ad-manger/ad-manger.component.ts","webpack:///./src/app/pages/ad/ad-routing.module.ts","webpack:///./src/app/pages/ad/ad.module.ts","webpack:///./src/app/pages/ad/edit-ad/edit-ad.component.html","webpack:///./src/app/pages/ad/edit-ad/edit-ad.component.scss","webpack:///./src/app/pages/ad/edit-ad/edit-ad.component.ts"],"names":[],"mappings":"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","file":"pages-ad-ad-module.js","sourcesContent":["module.exports = \"<nz-table\\r\\n  #editRowTable\\r\\n  nzBordered=\\\"false\\\"\\r\\n  [nzData]=\\\"dataSet\\\"\\r\\n  nzPageSize=\\\"10\\\"\\r\\n  nzShowSizeChanger = 'true'\\r\\n  [nzLoading]=\\\"isloading\\\"\\r\\n>\\r\\n  <thead>\\r\\n  <tr>\\r\\n    <th>排序</th>\\r\\n    <th>位置</th>\\r\\n    <th>图片</th>\\r\\n    <th>是否显示</th>\\r\\n    <th>创建时间</th>\\r\\n    <th>操作</th>\\r\\n  </tr>\\r\\n  </thead>\\r\\n  <tbody>\\r\\n  <tr *ngFor=\\\"let data of editRowTable.data\\\">\\r\\n    <td>\\r\\n      {{data.sort}}\\r\\n    </td>\\r\\n    <td>{{data.name}}</td>\\r\\n    <td>{{data.telephone}}</td>\\r\\n    <td>\\r\\n      <div [ngSwitch]=\\\"data.status\\\">\\r\\n        <div *ngSwitchCase=\\\"'Y'\\\" style=\\\"color:green\\\">显示</div>\\r\\n        <div *ngSwitchCase=\\\"'N'\\\" style=\\\"color:red\\\">关闭</div>\\r\\n      </div>\\r\\n    </td>\\r\\n    <td>{{data.create_time}}</td>\\r\\n    <td>\\r\\n      <button nz-button nzType=\\\"default\\\" (click)=\\\"goPager({url:'/ad/edit',data:{id:data.id}})\\\" >查看</button>\\r\\n      <div [ngSwitch]=\\\"data.status\\\" style=\\\"display: inline-block\\\">\\r\\n        <div *ngSwitchCase=\\\"'Y'\\\"><button nz-button nzType=\\\"default\\\" (click)=\\\"isEnable(data)\\\" >关闭</button></div>\\r\\n        <div *ngSwitchCase=\\\"'N'\\\"><button nz-button nzType=\\\"default\\\" (click)=\\\"isable(data)\\\">显示</button></div>\\r\\n      </div>\\r\\n\\r\\n    </td>\\r\\n\\r\\n  </tr>\\r\\n  </tbody>\\r\\n</nz-table>\\r\\n\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2FkL2FkLW1hbmdlci9hZC1tYW5nZXIuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport {ResetHttpService} from '../../../share/util/reset-http.service';\r\nimport {UtilServeService} from '../../../share/util/util-serve.service';\r\nimport {UrlServeService} from '../../../share/util/url-serve.service';\r\nimport {NzMessageService} from 'ng-zorro-antd';\r\n\r\n@Component({\r\n  selector: 'app-ad-manger',\r\n  templateUrl: './ad-manger.component.html',\r\n  styleUrls: ['./ad-manger.component.scss']\r\n})\r\nexport class AdMangerComponent implements OnInit {\r\n  dataSet;\r\n  constructor(\r\n    private http:ResetHttpService,\r\n    private util:UtilServeService,\r\n    private url:UrlServeService,\r\n    private msg:NzMessageService\r\n    ) { }\r\n\r\n  ngOnInit() {\r\n    this.getData();\r\n  }\r\n  getData(){\r\n    this.http.get(this.url.bannerList,{\r\n\r\n    },data=>{\r\n      // console.log(data);\r\n      if(data.code == '001000'){\r\n\r\n      }else{\r\n        this.msg.error(data.message);\r\n      }\r\n    },err=>{\r\n      console.log(err);\r\n    })\r\n  }\r\n  goPager(option){\r\n    this.util.goPage(option);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport {AdMangerComponent} from './ad-manger/ad-manger.component';\r\nimport {EditAdComponent} from './edit-ad/edit-ad.component';\r\n\r\nconst routes: Routes = [\r\n  {path:'',component:AdMangerComponent},\r\n  {path:'edit',component:EditAdComponent}\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AdRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { AdRoutingModule } from './ad-routing.module';\r\nimport { AdMangerComponent } from './ad-manger/ad-manger.component';\r\nimport { EditAdComponent } from './edit-ad/edit-ad.component';\r\nimport {ShareModule} from '../../share/share.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    AdRoutingModule,\r\n    ShareModule\r\n  ],\r\n  declarations: [AdMangerComponent, EditAdComponent]\r\n})\r\nexport class AdModule { }\r\n","module.exports = \"\\r\\n<form nz-form [formGroup]=\\\"validateForm\\\"  style=\\\"max-width: 800px;\\\">\\r\\n  <nz-form-item *ngIf=\\\"type != 'b'\\\">\\r\\n    <nz-form-label [nzSpan]=\\\"7\\\" nzRequired>位置</nz-form-label>\\r\\n    <nz-form-control [nzSpan]=\\\"12\\\">\\r\\n      <p>首页</p>\\r\\n    </nz-form-control>\\r\\n  </nz-form-item>\\r\\n  <nz-form-item>\\r\\n    <nz-form-label [nzSpan]=\\\"7\\\" nzRequired>上传图片</nz-form-label>\\r\\n    <nz-form-control [nzSpan]=\\\"12\\\">\\r\\n      <nz-upload class=\\\"avatar-uploader\\\"\\r\\n                 [nzAction]=\\\"imgUrl\\\"\\r\\n                 nzListType=\\\"picture-card\\\"\\r\\n                 [nzShowUploadList]=\\\"false\\\"\\r\\n                 [nzShowButton]=\\\"true\\\"\\r\\n                 [nzBeforeUpload]=\\\"beforeUpload\\\"\\r\\n                 (nzChange)=\\\"handleChange($event)\\\">\\r\\n        <ng-container *ngIf=\\\"!avatarBiglUrl\\\">\\r\\n          <i class=\\\"ico ico_plus\\\"></i>\\r\\n          <div class=\\\"ant-upload-text\\\">Upload</div>\\r\\n        </ng-container>\\r\\n        <img *ngIf=\\\"avatarBiglUrl\\\" [src]=\\\"avatarBiglUrl\\\" class=\\\"avatar\\\">\\r\\n      </nz-upload>\\r\\n    </nz-form-control>\\r\\n  </nz-form-item>\\r\\n  <p style=\\\"color:#ff9a91;font-size:12px;text-align: center;margin-top: -24px;\\\">图片只能上传格式\\\"image/jpg和image/png\\\",大小限制为2mb</p>\\r\\n  <nz-form-item>\\r\\n    <nz-form-label [nzSpan]=\\\"7\\\" nzRequired>链接类型</nz-form-label>\\r\\n    <nz-form-control [nzSpan]=\\\"12\\\">\\r\\n      <nz-select id=\\\"gender\\\" formControlName=\\\"linkMsg\\\" nzPlaceHolder=\\\"无连接\\\" (ngModelChange)=\\\"selectChange($event)\\\">\\r\\n        <nz-option nzValue=\\\"pro\\\" nzLabel=\\\"商品详情\\\"></nz-option>\\r\\n        <nz-option nzValue=\\\"con\\\" nzLabel=\\\"资讯详情\\\"></nz-option>\\r\\n      </nz-select>\\r\\n      <nz-form-explain *ngIf=\\\"validateForm.get('linkMsg').dirty && validateForm.get('linkMsg').errors\\\">请选择链接！</nz-form-explain>\\r\\n    </nz-form-control>\\r\\n  </nz-form-item>\\r\\n  <nz-form-item *ngIf=\\\"type == 'pro'\\\">\\r\\n    <nz-form-label [nzSpan]=\\\"7\\\" nzRequired>产品案例ID</nz-form-label>\\r\\n    <nz-form-control [nzSpan]=\\\"12\\\">\\r\\n      <input nz-input formControlName=\\\"ProductMsg\\\" type=\\\"text\\\">\\r\\n      <nz-form-explain *ngIf=\\\"validateForm.get('ProductMsg').dirty && validateForm.get('ProductMsg').errors\\\">请填写产品案例！</nz-form-explain>\\r\\n    </nz-form-control>\\r\\n  </nz-form-item>\\r\\n  <nz-form-item *ngIf=\\\"type == 'con'\\\">\\r\\n    <nz-form-label [nzSpan]=\\\"7\\\" nzRequired>资讯详情ID</nz-form-label>\\r\\n    <nz-form-control [nzSpan]=\\\"12\\\">\\r\\n      <input nz-input formControlName=\\\"consultMsg\\\" type=\\\"text\\\">\\r\\n      <nz-form-explain *ngIf=\\\"validateForm.get('consultMsg').dirty && validateForm.get('consultMsg').errors\\\">请填写资讯详情！</nz-form-explain>\\r\\n    </nz-form-control>\\r\\n  </nz-form-item>\\r\\n  <nz-form-item>\\r\\n    <nz-form-control [nzOffset]=\\\"7\\\" [nzSpan]=\\\"12\\\">\\r\\n      <button nz-button nzType=\\\"primary\\\" (click)=\\\"submitForm($event)\\\" style=\\\"margin-right: 15px;\\\">保存</button>\\r\\n      <button nz-button (click)=\\\"cancleForm($event)\\\">取消</button>\\r\\n    </nz-form-control>\\r\\n  </nz-form-item>\\r\\n</form>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2FkL2VkaXQtYWQvZWRpdC1hZC5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\r\nimport {FormBuilder, FormControl, FormGroup, Validators} from '@angular/forms';\r\nimport {NzMessageService, UploadFile} from 'ng-zorro-antd';\r\nimport {UrlServeService} from '../../../share/util/url-serve.service';\r\nimport {UtilServeService} from '../../../share/util/util-serve.service';\r\nimport {ResetHttpService} from '../../../share/util/reset-http.service';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-edit-ad',\r\n  templateUrl: './edit-ad.component.html',\r\n  styleUrls: ['./edit-ad.component.scss']\r\n})\r\nexport class EditAdComponent implements OnInit {\r\n  type;\r\n  validateForm: FormGroup;\r\n  avatarBiglUrl;\r\n  patt = /\\w{6,12}/;\r\n  smallImg = '';\r\n  loading:boolean;\r\n  imgUrl = this.url.commentBaseUrl+this.url.imgUpLoad;\r\n  params;\r\n  constructor(private route:ActivatedRoute,private util:UtilServeService,private fb: FormBuilder,private http: ResetHttpService,private router:Router,private url :UrlServeService,private msg:NzMessageService) {\r\n    this.initForm();\r\n    this.route.queryParams.subscribe(params => {\r\n      this.params = JSON.parse(params.data);\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n\r\n  }\r\n  initForm(){\r\n    this.validateForm = this.fb.group({\r\n      linkMsg: [Validators.required],\r\n      ProductMsg : [Validators.required],\r\n      consultMsg:['',[Validators.required ]]\r\n    });\r\n  }\r\n  //提交\r\n  submitForm = ($event) => {\r\n    $event.preventDefault();\r\n    this.validateForm.controls[ 'linkMsg' ].markAsDirty();\r\n    this.validateForm.controls[ 'linkMsg' ].updateValueAndValidity();\r\n    var content;\r\n    if(this.type == 'pro'){\r\n      this.validateForm.controls[ 'ProductMsg' ].markAsDirty();\r\n      this.validateForm.controls[ 'ProductMsg' ].updateValueAndValidity();\r\n      content = this.validateForm.controls[ 'ProductMsg' ].value;\r\n      if (this.validateForm.controls[ 'ProductMsg' ].invalid || this.validateForm.controls[ 'linkMsg' ].invalid) return;\r\n    }\r\n    if(this.type == 'con'){\r\n      this.validateForm.controls[ 'consultMsg' ].markAsDirty();\r\n      this.validateForm.controls[ 'consultMsg' ].updateValueAndValidity();\r\n      content = this.validateForm.controls[ 'consultMsg' ].value;\r\n      if (this.validateForm.controls[ 'consultMsg' ].invalid || this.validateForm.controls[ 'linkMsg' ].invalid) return;\r\n    }\r\n\r\n    if(!this.smallImg){\r\n      this.msg.error('请上传图片！');\r\n      return;\r\n    }\r\n    this.http.get(this.url.updateBanner, {\r\n      id:this.params.id,\r\n      type:this.type,\r\n      content:content,\r\n      image:this.smallImg,\r\n      relation_id:''\r\n    },(data)=>{\r\n      // console.log(data);\r\n      if(data.code == '001000'){\r\n      }else{\r\n        this.msg.error(data.message);\r\n      }\r\n    },err=>{\r\n      console.log(err);\r\n    })\r\n  };\r\n  //取消\r\n  cancleForm(e: MouseEvent): void {\r\n    history.back();\r\n  }\r\n  //验证密码\r\n  checkPhone = (control:FormControl): {[ s: string ]: boolean} =>{\r\n    if(!control.value){\r\n      return {required:true}\r\n    }else if(!this.patt.test(control.value)){\r\n      return { error: true };\r\n    }\r\n  };\r\n  selectChange(value){\r\n    this.type = value;\r\n  }\r\n  //上传图片\r\n  beforeUpload(file:File){\r\n    const isJPG = file.type === 'image/jpeg';\r\n    const isPng = file.type === 'image/png';\r\n    if(!(isPng || isJPG)){\r\n      this.msg.error('只允许上传JPG 或者 PNG格式的图片');\r\n    }\r\n    const isLt2M = file.size / 1024 / 1024 < 1;\r\n    if (!isLt2M) {\r\n      this.msg.error('大小不能超过2MB!');\r\n    }\r\n    return (isJPG || isPng) && isLt2M;\r\n  }\r\n\r\n  private getBase64(img: File, callback: (img: {}) => void): void {\r\n    const reader = new FileReader();\r\n    reader.addEventListener('load', () => callback(reader.result));\r\n    reader.readAsDataURL(img);\r\n  }\r\n\r\n  handleChange(info: { file: UploadFile }): void {\r\n    if (info.file.status === 'uploading') {\r\n      this.loading = true;\r\n      return;\r\n    }\r\n    if (info.file.status === 'done') {\r\n      if(info.file.response.code == '001000'){\r\n        this.smallImg = info.file.response.response.filePath;\r\n      }\r\n      // Get this url from response in real world.\r\n      this.getBase64(info.file.originFileObj, (img: string) => {\r\n        console.log(img);\r\n        this.loading = false;\r\n        this.avatarBiglUrl = img;\r\n      });\r\n    }\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}